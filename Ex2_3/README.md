# 2.3节练习：  
## 练习2.15：下面的哪个定义是不合法的?为什么?
```
(a)int ival=1.01;
// 合法，定义了int变量
(b)int &rvall=1.01;
// 不合法，引用类型的初始值必须是一个对象
(c)int &rval2=ival;
// 合法，定义引用 rval2 绑定ival
(d)int &rval3;
// 不合法，定义一个引用但没有初始化
```
## 练习2.16：考查下面的所有赋值然后回答:哪些赋值是不合法的?为什么?哪些赋值是合法的?它们执行了什么样的操作?
```
int i=0，&rl=i;
double d=0，&r2=d;
(a)r2=3.14159;
// 合法，修改了r2与d
(c)i=r2;
// 合法，修改int型变量i，但是会发生截位
(b)r2=rl;
// 合法
(d)r1=d;
// 合法,截尾
```
## 练习2.17:执行下面的代码段将输出什么结果?
```
int i，&ri=i;
i=5;ri=10;
std::cout <<i <<" "<<ri<<std::endl;
```
报错，i没有初始化

## 练习2.18:编写代码分别更改指针的值以及指针所指对象的值。
如Ex2_18()


## 练习2.19:说明指针和引用的主要区别
指针可以改变指向的对象，而引用不能改变所引用的对象。在声明时，指针使用*来标识，引用使用&来标识。  
指针可以被赋值为nullptr（C++11之前为NULL），表示该指针不指向任何对象，而引用必须在初始化时指向一个对象，不能为nullptr。  
指针可以被重新赋值为另一个地址，而引用一旦绑定到一个对象上，就不能改变其绑定的对象。  
指针可以进行算术运算，例如指针加减法、指针比较等，而引用不能进行算术运算。  
对指针进行解引用操作（*）可以获取指针指向的对象，而对引用进行解引用操作就是对所引用的对象进行操作。  
指针可以指向空间中的任意一个地址，而引用必须指向已经存在的对象。  

## 练习2.20:请叙述下面这段代码的作用
```
int i=42;
int *pl=&i;
*pl=*pl * *pl;
```
pl指向i，并对i自身相乘，最终得到i = 42^2
## 练习2.21:请解释下述定义。在这些定义中有非法的吗?如果有，为什么?
```
int i=0;
(a) double *dp=&i;
(b) int *ip=i;
(c) int *p=&i;
```
(a) 这个定义是非法的。dp是一个double类型的指针，而&i是一个int类型的地址。这样将&i强制转换为double*类型是错误的，因为指向int类型的地址的指针和指向double类型的地址的指针是不兼容的。  

(b) 这个定义也是非法的。i是一个int类型的变量，而ip是一个int类型的指针。在声明指针时需要使用&运算符来获取一个变量的地址，所以正确的声明应该是
```
int *ip = &i;
```

(c) 这个定义是合法的。p是一个int类型的指针，指向i的地址。因为p和i都是int类型，所以它们是兼容的。声明中使用&运算符获取i的地址，因此正确的声明应该
```
int *p = &i;
```

## 练习2.22:假设p是一个int 型指针，请说明下述代码的含义
```
if(p) //...
if(*p) //
```
p是一个int型指针，可以存储一个内存地址。在C++中，一个指针如果存储了一个有效的地址，就被认为是true，否则被认为是false。因此，if(p)的含义是，如果p指向一个有效的内存地址，则执行if后面的代码块。  

而*p表示解引用p，即获取p所指向的内存地址中存储的值。如果p指向的值不为0，则if(*p)为true，否则为false。因此，if(*p)的含义是，如果p所指向的内存地址中存储的值不为0，则执行if后面的代码块。

## 练习 2.23:给定指针 p，你能知道它是否指向了一个合法的对象吗?如果能，叙述判断的思路;如果不能，也请说明原因。
我们不能确定一个指针是否指向一个合法的对象，因为一个指针可以指向任何地址，包括无效的地址或者已被释放的内存区域。在这种情况下，我们使用一个无效的指针会导致未定义的行为，这可能会导致程序崩溃或者其他严重的后果。

## 练习2.24:在下面这段代码中为什么p合法而lp非法?
```
int i = 1024;
void * p = &i;
long * lp = &i;
```
i为int型变量，只能用int型或void型指针指向，因此p合法，long指针lp不合法

## 练习2.25:说明下列变量的类型和值。
```
(a)int* ip,i，&r=i;
// ip为int指针，i为int，r为i的引用
(b) int i，*ip=0;
//  i为int， ip为空指针
(c)int*ip，ip2;
// ip为指向 int的指针，ip2为int
```